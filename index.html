<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub User Search</title>
    <!-- Favicon from a public source to add a small detail -->
    <link rel="icon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
    <!-- Inter font for clean, modern typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN for a responsive, utility-first approach -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            /* Light theme colors */
            --bg-color: #f6f8ff;
            --container-bg: #fefefe;
            --text-color: #4b6a9b;
            --heading-color: #2b3442;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --stats-bg: #f6f8ff;
            --link-color: #0079ff;
        }

        .dark-theme {
            /* Dark theme colors */
            --bg-color: #141d2f;
            --container-bg: #1e2b48;
            --text-color: #ffffff;
            --heading-color: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.25);
            --stats-bg: #141d2f;
            --link-color: #0079ff;
        }

        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease;
            background-color: var(--bg-color);
        }

        .container {
            background-color: var(--container-bg);
            box-shadow: 0 16px 30px var(--shadow-color);
        }

        .stats-container {
            background-color: var(--stats-bg);
        }
        
        /* Custom styles for the theme toggle button */
        .theme-toggle-btn {
            display: flex;
            align-items: center;
            cursor: pointer;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 2px;
            color: var(--text-color);
            transition: color 0.2s ease;
        }

        .theme-toggle-btn:hover {
            color: var(--link-color);
        }

        .theme-icon {
            margin-left: 8px;
            fill: var(--text-color);
            transition: fill 0.2s ease;
        }

        .theme-toggle-btn:hover .theme-icon {
            fill: var(--link-color);
        }

        /* Custom styles for search button to make it look better */
        .search-btn {
            background-color: var(--link-color);
            color: #fff;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }

        .search-btn:hover {
            background-color: #60abff;
        }
        
        /* General Link hover state */
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- Main Container -->
    <div class="container max-w-2xl w-full p-6 sm:p-8 md:p-12 rounded-2xl">

        <!-- Header -->
        <header class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold" style="color: var(--heading-color);">devfinder</h1>
            <button id="theme-toggle" class="theme-toggle-btn">
                <span>Dark</span>
                <svg class="theme-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.75 6.25C13.75 8.94167 11.4167 11.25 8.75 11.25C6.08333 11.25 3.75 8.94167 3.75 6.25C3.75 3.55833 6.08333 1.25 8.75 1.25C11.4167 1.25 13.75 3.55833 13.75 6.25Z" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M19.3333 10.8333C19.3333 15.6667 15.3333 19.3333 10.5 19.3333C5.66667 19.3333 1.66667 15.6667 1.66667 10.8333" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </header>

        <!-- Search Bar -->
        <section class="relative mb-6">
            <input id="search-input" type="text" placeholder="Search GitHub username..." class="w-full pl-12 pr-4 sm:pr-24 py-3 rounded-xl focus:outline-none" style="background-color: var(--stats-bg); color: var(--text-color);">
            <svg class="absolute left-4 top-1/2 -translate-y-1/2" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.3333 18.3333L12.5 12.5M14.1667 8.33333C14.1667 11.555 11.555 14.1667 8.33333 14.1667C5.11167 14.1667 2.5 11.555 2.5 8.33333C2.5 5.11167 5.11167 2.5 8.33333 2.5C11.555 2.5 14.1667 5.11167 14.1667 8.33333Z" stroke="#0079ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <button id="search-btn" class="search-btn absolute right-2 top-2">Search</button>
        </section>

        <!-- Profile Card -->
        <main id="profile-card" class="container p-8 rounded-2xl transition-opacity duration-300">
            <div class="flex flex-col sm:flex-row items-center sm:items-start space-x-0 sm:space-x-8">
                <!-- Avatar -->
                <div class="flex-shrink-0 mb-4 sm:mb-0">
                    <img id="avatar" src="" alt="User Avatar" class="w-24 h-24 sm:w-32 sm:h-32 rounded-full">
                </div>
                
                <!-- Profile details and stats -->
                <div class="w-full">
                    <!-- Name and joined date -->
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center">
                        <div class="flex flex-col text-center sm:text-left mb-2 sm:mb-0">
                            <h2 id="name" class="text-xl font-bold" style="color: var(--heading-color);"></h2>
                            <p id="username" class="text-blue-500 text-sm">@</p>
                        </div>
                        <p id="joined-date" class="text-xs" style="color: var(--text-color);"></p>
                    </div>

                    <!-- Bio -->
                    <p id="bio" class="text-sm mt-4 leading-relaxed" style="color: var(--text-color);"></p>

                    <!-- Stats -->
                    <div class="stats-container grid grid-cols-3 gap-4 p-4 mt-6 rounded-xl text-center">
                        <div>
                            <p class="text-xs" style="color: var(--text-color);">Repos</p>
                            <span id="repos" class="text-lg font-bold" style="color: var(--heading-color);">0</span>
                        </div>
                        <div>
                            <p class="text-xs" style="color: var(--text-color);">Followers</p>
                            <span id="followers" class="text-lg font-bold" style="color: var(--heading-color);">0</span>
                        </div>
                        <div>
                            <p class="text-xs" style="color: var(--text-color);">Following</p>
                            <span id="following" class="text-lg font-bold" style="color: var(--heading-color);">0</span>
                        </div>
                    </div>

                    <!-- Social Links -->
                    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="flex items-center space-x-2">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 17.5C10 17.5 17.5 11.25 17.5 6.25C17.5 3.08333 15.0833 0.5 11.25 0.5C9.16667 0.5 7.5 2.16667 7.5 4.5M10 17.5C10 17.5 2.5 11.25 2.5 6.25C2.5 3.08333 4.91667 0.5 8.75 0.5C10.8333 0.5 12.5 2.16667 12.5 4.5M10 17.5V11.25" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span id="location" class="text-sm" style="color: var(--text-color);">Not Available</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.5 12.5C17.5 14.8333 16.3333 16.25 14.1667 16.25H5.83333C3.66667 16.25 2.5 14.8333 2.5 12.5V7.5C2.5 5.16667 3.66667 3.75 5.83333 3.75H14.1667C16.3333 3.75 17.5 5.16667 17.5 7.5V12.5Z" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M18.3333 7.5L10 13.3333L1.66667 7.5" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <a id="blog" href="#" target="_blank" class="text-sm truncate" style="color: var(--text-color);">Not Available</a>
                        </div>
                        <div class="flex items-center space-x-2">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18.3333 3.33333C17.6186 3.68264 16.8524 3.91896 16.0833 4.05833C16.9048 3.56708 17.5113 2.78442 17.8016 1.83333C17.0371 2.2796 16.1963 2.60742 15.3333 2.78333C14.5962 1.99047 13.5961 1.5 12.5 1.5C10.7417 1.5 9.33333 2.90833 9.33333 4.66667C9.33333 4.91667 9.35833 5.16667 9.40833 5.40833C6.73333 5.275 4.31667 4.01667 2.66667 1.91667C2.425 2.33333 2.275 2.825 2.275 3.33333C2.275 4.49167 2.86667 5.51667 3.78333 6.13333C3.25 6.11667 2.725 5.96667 2.25 5.71667V5.75C2.25 7.26667 3.36667 8.525 4.88333 8.81667C4.61667 8.875 4.34167 8.90833 4.05 8.90833C3.85833 8.90833 3.675 8.88333 3.5 8.85C3.91667 10.1667 5.14167 11.1667 6.66667 11.2083C5.55833 12.0833 4.14167 12.625 2.625 12.625C2.33333 12.625 2.05 12.6083 1.775 12.575C3.25 13.5667 5.01667 14.1667 6.91667 14.1667C12.5 14.1667 15.6833 9.58333 15.6833 5.56667C15.6833 5.425 15.6833 5.29167 15.675 5.16667C16.2917 4.75 16.8417 4.31667 17.3333 3.83333Z" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span id="twitter" class="text-sm" style="color: var(--text-color);">Not Available</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.5 17.5H7.5V11.6667C7.5 10.8333 8.33333 10 9.16667 10H10.8333C11.6667 10 12.5 10.8333 12.5 11.6667V17.5ZM17.5 17.5V13.3333C17.5 12.5 16.6667 11.6667 15.8333 11.6667H14.1667C13.3333 11.6667 12.5 12.5 12.5 13.3333V17.5M2.5 17.5V13.3333C2.5 12.5 3.33333 11.6667 4.16667 11.6667H5.83333C6.66667 11.6667 7.5 12.5 7.5 13.3333V17.5M10 2.5C11.3807 2.5 12.5 3.61929 12.5 5C12.5 6.38071 11.3807 7.5 10 7.5C8.61929 7.5 7.5 6.38071 7.5 5C7.5 3.61929 8.61929 2.5 10 2.5ZM5.83333 2.5C7.21404 2.5 8.33333 3.61929 8.33333 5C8.33333 6.38071 7.21404 7.5 5.83333 7.5C4.45262 7.5 3.33333 6.38071 3.33333 5C3.33333 3.61929 4.45262 2.5 5.83333 2.5ZM14.1667 2.5C15.5473 2.5 16.6667 3.61929 16.6667 5C16.6667 6.38071 15.5473 7.5 14.1667 7.5C12.7859 7.5 11.6667 6.38071 11.6667 5C11.6667 3.61929 12.7859 2.5 14.1667 2.5Z" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span id="company" class="text-sm" style="color: var(--text-color);">Not Available</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // DOM element references
        const body = document.body;
        const themeToggleBtn = document.getElementById('theme-toggle');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const profileCard = document.getElementById('profile-card');

        // Profile card elements
        const avatar = document.getElementById('avatar');
        const nameEl = document.getElementById('name');
        const usernameEl = document.getElementById('username');
        const joinedDateEl = document.getElementById('joined-date');
        const bioEl = document.getElementById('bio');
        const reposEl = document.getElementById('repos');
        const followersEl = document.getElementById('followers');
        const followingEl = document.getElementById('following');
        const locationEl = document.getElementById('location');
        const blogEl = document.getElementById('blog');
        const twitterEl = document.getElementById('twitter');
        const companyEl = document.getElementById('company');

        // Function to set the theme based on preference or system settings
        const setTheme = (isDark) => {
            if (isDark) {
                body.classList.add('dark-theme');
                themeToggleBtn.innerHTML = '<span>Light</span> <svg class="theme-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 17.5C10 17.5 17.5 11.25 17.5 6.25C17.5 3.08333 15.0833 0.5 11.25 0.5C9.16667 0.5 7.5 2.16667 7.5 4.5M10 17.5C10 17.5 2.5 11.25 2.5 6.25C2.5 3.08333 4.91667 0.5 8.75 0.5C10.8333 0.5 12.5 2.16667 12.5 4.5M10 17.5V11.25" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
                
                // Update SVG fill colors for the dark theme
                document.querySelectorAll('.theme-icon').forEach(icon => icon.style.fill = '#fff');
                document.querySelectorAll('svg path').forEach(path => {
                    if (path.getAttribute('stroke') === '#4B6A9B') {
                        path.setAttribute('stroke', '#fff');
                    }
                });

            } else {
                body.classList.remove('dark-theme');
                themeToggleBtn.innerHTML = '<span>Dark</span> <svg class="theme-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 6.25C13.75 8.94167 11.4167 11.25 8.75 11.25C6.08333 11.25 3.75 8.94167 3.75 6.25C3.75 3.55833 6.08333 1.25 8.75 1.25C11.4167 1.25 13.75 3.55833 13.75 6.25Z" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M19.3333 10.8333C19.3333 15.6667 15.3333 19.3333 10.5 19.3333C5.66667 19.3333 1.66667 15.6667 1.66667 10.8333" stroke="#4B6A9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';

                // Revert SVG fill colors for the light theme
                document.querySelectorAll('.theme-icon').forEach(icon => icon.style.fill = '#4B6A9B');
                document.querySelectorAll('svg path').forEach(path => {
                    if (path.getAttribute('stroke') === '#fff') {
                        path.setAttribute('stroke', '#4B6A9B');
                    }
                });
            }
        };

        // Initialize theme based on user's preference or system setting
        const initializeTheme = () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme === 'dark');
            } else {
                const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                setTheme(systemPrefersDark);
            }
        };

        // Event listener for theme toggle button
        themeToggleBtn.addEventListener('click', () => {
            const isDark = body.classList.contains('dark-theme');
            setTheme(!isDark);
            localStorage.setItem('theme', isDark ? 'light' : 'dark');
        });

        // Function to format the date
        const formatDate = (dateString) => {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return `Joined ${date.toLocaleDateString('en-US', options)}`;
        };

        // Function to update the UI with user data
        const updateUI = (user) => {
            profileCard.style.display = 'block';

            // Check if data is null and display "Not Available"
            const checkData = (element, data) => {
                if (data === null || data === '') {
                    element.innerText = 'Not Available';
                    // Optional: You could also add a class to fade the text or change color
                } else {
                    element.innerText = data;
                }
            };
            
            // Check for a valid URL and update the link
            const checkLink = (element, data) => {
                if (data === null || data === '') {
                    element.innerText = 'Not Available';
                    element.href = '#';
                    element.style.cursor = 'default';
                } else {
                    element.innerText = data;
                    element.href = data.startsWith('http') ? data : `https://${data}`;
                    element.style.cursor = 'pointer';
                }
            };

            avatar.src = user.avatar_url;
            nameEl.innerText = user.name || user.login; // Use login if name is null
            usernameEl.innerText = `@${user.login}`;
            joinedDateEl.innerText = formatDate(user.created_at);
            checkData(bioEl, user.bio);
            reposEl.innerText = user.public_repos;
            followersEl.innerText = user.followers;
            followingEl.innerText = user.following;
            checkData(locationEl, user.location);
            checkLink(blogEl, user.blog);
            checkData(twitterEl, user.twitter_username);
            checkData(companyEl, user.company);
        };

        // Function to show an error message
        const showError = (message) => {
            profileCard.style.display = 'none';
            const errorMessage = document.createElement('p');
            errorMessage.id = 'error-message';
            errorMessage.className = 'text-center text-red-500 font-bold mt-4';
            errorMessage.innerText = message;
            
            // Check if a message already exists before appending
            const existingMessage = document.getElementById('error-message');
            if (existingMessage) {
                existingMessage.innerText = message;
            } else {
                profileCard.parentNode.insertBefore(errorMessage, profileCard);
            }
        };

        // Function to handle the search
        const handleSearch = async () => {
            const username = searchInput.value.trim();
            if (!username) {
                showError('Please enter a username.');
                return;
            }

            // Remove existing error message if present
            const existingMessage = document.getElementById('error-message');
            if (existingMessage) {
                existingMessage.remove();
            }

            try {
                const response = await fetch(`https://api.github.com/users/${username}`);
                if (response.ok) {
                    const data = await response.json();
                    updateUI(data);
                } else if (response.status === 404) {
                    showError('User not found. Please try a different username.');
                } else {
                    showError('An error occurred. Please try again later.');
                }
            } catch (error) {
                showError('Network error. Please check your connection.');
                console.error('Fetch error:', error);
            }
        };

        // Event listeners for search
        searchBtn.addEventListener('click', handleSearch);
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSearch();
            }
        });

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeTheme();
            // Optionally, search for a default user on load
            searchInput.value = 'abhijeetr7';
            handleSearch();
        });

    </script>
</body>
</html>
